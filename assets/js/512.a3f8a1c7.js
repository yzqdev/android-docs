"use strict";(self.webpackChunkandroid_docs=self.webpackChunkandroid_docs||[]).push([[512],{512:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var a=l(4393),s=l(3577),r=l(7171),u=l(6309),o=l(1673),n=l(2262),c=l(6252),i=l(2201),v=l(1777),h=l(2081);const p=(0,u._aR)("search-pro-result-history",[]);var d=(0,c.aZ)({name:"SearchResult",props:{query:{type:String,required:!0}},emits:["close","updateQuery"],setup(e,{emit:t}){const l=(0,a.Vi)(),d=(0,i.tv)(),y=(0,a.I)(),m=(0,v.zT)(h.a),{addQueryHistory:H}=(0,h.u)(),{enabled:g,resultHistory:k,addResultHistory:f,removeResultHistory:w}=(()=>{const{resultHistoryCount:e}=h.s,t=e>0;return{enabled:t,resultHistory:p,addResultHistory:l=>{t&&(p.value.length<e?p.value=[l,...p.value]:p.value=[l,...p.value.slice(0,e-1)])},removeResultHistory:e=>{p.value=[...p.value.slice(0,e),...p.value.slice(e+1)]}}})(),R=(0,n.Vh)(e,"query"),{results:q,searching:C}=(e=>{const t=(0,a.I)(),l=(0,n.iH)(!1),s=(0,n.iH)([]);let r;const u=(0,o.DI)((e=>{l.value=!0,null==r||r.terminate(),e?(r=new Worker(`/android-docs/${h.s.worker}`,{}),r.addEventListener("message",(({data:e})=>{s.value=e,l.value=!1})),r.postMessage({query:e,routeLocale:t.value})):(s.value=[],l.value=!1)}),h.s.delay);return(0,c.YP)([e,t],(()=>u(e.value)),{immediate:!0}),{searching:l,results:s}})(R),b=(0,n.iH)(0),D=(0,n.iH)(0),I=(0,c.Fl)((()=>k.value.length>0)),P=(0,c.Fl)((()=>q.value.length>0)),S=(0,c.Fl)((()=>q.value[b.value]||null)),$=e=>e.map((e=>(0,s.HD)(e)?e:(0,c.h)(e[0],e[1]))),F=e=>{if("custom"===e.type){const t=h.d[e.index]||"$content",[l,a=""]=(0,r.PO)(t)?t[y.value].split("$content"):t.split("$content");return $([l,...e.display,a])}return $(e.display)},Q=()=>{b.value=0,D.value=0,t("updateQuery",""),t("close")};return(0,u.ORN)("keydown",(t=>{if(P.value)if("ArrowUp"===t.key)D.value>0?D.value=D.value-1:(b.value=b.value>0?b.value-1:q.value.length-1,D.value=S.value.contents.length-1);else if("ArrowDown"===t.key)D.value<S.value.contents.length-1?D.value=D.value+1:(b.value=b.value<q.value.length-1?b.value+1:0,D.value=0);else if("Enter"===t.key){const t=S.value.contents[D.value];l.value.path!==t.path&&(H(e.query),f(t),d.push(t.path),Q())}})),(0,c.YP)([b,D],(()=>{var e;null==(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))||e.scrollIntoView(!1)}),{flush:"post"}),()=>(0,c.h)("div",{class:["search-pro-result",{empty:R.value?!P.value:!I.value}],id:"search-pro-results"},""===R.value?I.value?(0,c.h)("ul",{class:"search-pro-result-list"},(0,c.h)("li",{class:"search-pro-result-list-item"},[(0,c.h)("div",{class:"search-pro-result-title"},m.value.history),k.value.map(((e,t)=>(0,c.h)(i.rH,{to:e.path,class:["search-pro-result-item",{active:D.value===t}],onClick:()=>{Q()}},(()=>[(0,c.h)(h.H,{class:"search-pro-result-type"}),(0,c.h)("div",{class:"search-pro-result-content"},["content"===e.type&&e.header?(0,c.h)("div",{class:"content-header"},e.header):null,(0,c.h)("div",F(e))]),(0,c.h)("button",{class:"search-pro-close-icon",onClick:e=>{e.preventDefault(),e.stopPropagation(),w(t)}},(0,c.h)(h.C))]))))])):g?m.value.emptyHistory:m.value.emptyResult:C.value?(0,c.h)(h.S,{hint:m.value.searching}):P.value?(0,c.h)("ul",{class:"search-pro-result-list"},q.value.map((({title:t,contents:l},a)=>{const s=b.value===a;return(0,c.h)("li",{class:["search-pro-result-list-item",{active:s}]},[(0,c.h)("div",{class:"search-pro-result-title"},t||"Documentation"),l.map(((t,l)=>{const a=s&&D.value===l;return(0,c.h)(i.rH,{to:t.path,class:["search-pro-result-item",{active:a,"aria-selected":a}],onClick:()=>{H(e.query),f(t),Q()}},(()=>["content"===t.type?null:(0,c.h)("title"===t.type?h.T:"heading"===t.type?h.b:h.c,{class:"search-pro-result-type"}),(0,c.h)("div",{class:"search-pro-result-content"},["content"===t.type&&t.header?(0,c.h)("div",{class:"content-header"},t.header):null,(0,c.h)("div",F(t))])]))}))])}))):m.value.emptyResult)}})}}]);